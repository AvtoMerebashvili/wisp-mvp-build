import{$ as z,C as d,F as C,K as D,O as E,P as S,Q as q,R as g,aa as I,ba as y,f as c,g as f,i as h,k as p,ka as F,ma as M,n as s,o as u,p as l,q as v,qa as b,w as n,x as o,y as m}from"./chunk-ZWY6K752.js";var W=(()=>{let i=class i{constructor(e,t){this.quizService=e,this.route=t,this.taskId=+this.route.snapshot.params.id,this.formControl=new q(""),this.listenFormControl=()=>this.formControl.valueChanges.pipe(c(2e3),f(1),h(()=>this.onDone())).subscribe()}ngOnInit(){this.listenFormControl(),this.initialize()}initialize(){if(this.quizService.existsInStore(this.taskId)){let t=this.quizService.getFromStore(this.taskId);this.formControl.setValue(t.value,{emitEvent:!1}),this.formControl.disable({emitEvent:!1}),this.state=t.state,this.question=t.question}else this.question=this.quizService.getRandomGif()}onDone(){this.formControl.disable();let e=this.quizService.getWordByValue(this.formControl.value);e?this.quizService.isRight(e,this.question)&&(this.state="correct"):(this.state="incorrect",this.quizService.decrementLives());let t={value:this.formControl.value,state:this.state,question:this.question};this.quizService.setInStore(this.taskId,t)}};i.\u0275fac=function(t){return new(t||i)(u(b),u(D))},i.\u0275cmp=p({type:i,selectors:[["app-enter-answer"]],standalone:!0,features:[C],decls:11,vars:4,consts:[[1,"task"],[1,"list-column"],[1,"cell"],[3,"src"],[1,"padding"],[1,"example-form-field"],["matInput","","type","text",3,"formControl"]],template:function(t,r){t&1&&(n(0,"div",0)(1,"h1"),d(2,"\u10E9\u10D0\u10EC\u10D4\u10E0\u10D4 \u10E0\u10D0\u10E1 \u10DC\u10D8\u10E8\u10DC\u10D0\u10D5\u10E1"),o(),n(3,"div",1)(4,"div",2),m(5,"app-card",3),o(),n(6,"div",4)(7,"mat-form-field",5)(8,"mat-label"),d(9,"\u10E9\u10D0\u10EC\u10D4\u10E0\u10D4\u10D7 \u10DE\u10D0\u10E1\u10E3\u10EE\u10D8"),o(),m(10,"input",6),o()()()()),t&2&&(s(5),l("src",r.question.value),s(1),v(r.state),s(4),l("formControl",r.formControl))},dependencies:[M,E,S,F,y,I,z,g],styles:[".example-form-field[_ngcontent-%COMP%]{width:200px}"]});let a=i;return a})();export{W as EnterAnswerComponent};
