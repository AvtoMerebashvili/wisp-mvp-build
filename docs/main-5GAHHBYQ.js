import{A as h,B as y,C as c,D as v,E as z,F as C,G as B,H as w,I as V,J as W,L as Q,M as K,N as H,S as J,T as x,U,V as X,W as Y,X as Z,Y as tt,Z as et,_ as it,a as O,b,c as A,ca as nt,d as q,da as ot,e as $,ea as rt,fa as at,g as D,ga as st,h as I,ha as pt,i as u,ia as ct,j as E,ja as mt,k as g,l as P,m as T,ma as _,n as l,o as f,p as F,qa as lt,r as j,s as G,w as a,x as p,y as k,z as L}from"./chunk-ZWY6K752.js";var s=function(t){return t.Recognize="recognize",t.EnterAnswer="enter-answer",t.ChooseWord="choose-word",t.ChooseGesture="choose-gesture",t.Repeat="repeat",t.Connect="connect",t}(s||{});var dt=[{path:"",redirectTo:"1",pathMatch:"full"},{path:`${s.Recognize}/:id`,loadComponent:()=>import("./chunk-GTP5VOGK.js").then(t=>t.RecognizeComponent)},{path:`${s.EnterAnswer}/:id`,loadComponent:()=>import("./chunk-JDHTMHUH.js").then(t=>t.EnterAnswerComponent)},{path:`${s.ChooseWord}/:id`,loadComponent:()=>import("./chunk-LZZEVATL.js").then(t=>t.ChooseWordComponent)},{path:`${s.ChooseGesture}/:id`,loadComponent:()=>import("./chunk-BU5ZY23B.js").then(t=>t.ChooseGestureComponent)},{path:`${s.Repeat}/:id`,loadComponent:()=>import("./chunk-YYILEKHU.js").then(t=>t.RepeatComponent)},{path:`${s.Connect}/:id`,loadComponent:()=>import("./chunk-LNPQXVKB.js").then(t=>t.ConnectComponent)}];var ut={providers:[H(dt),J()]};var N=[{count:1,route:s.Recognize},{count:1,route:s.Connect},{count:2,route:s.EnterAnswer},{count:2,route:s.ChooseWord},{count:2,route:s.ChooseGesture},{count:2,route:s.Repeat}];var gt=(()=>{let i=class i{constructor(){this.snackBarRef=E(rt),this.data=E(at)}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=g({type:i,selectors:[["snack-bar-annotated-component-example-snack"]],standalone:!0,features:[C],decls:6,vars:1,consts:[["matSnackBarLabel","",1,"example-pizza-party"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(e,n){e&1&&(a(0,"span",0),c(1),p(),a(2,"span",1)(3,"button",2),h("click",function(){return n.snackBarRef.dismissWithAction()}),a(4,"mat-icon"),c(5,"close"),p()()()),e&2&&(l(1),v(n.data))},dependencies:[_,x,it,st,pt,ct],styles:["[_nghost-%COMP%]{display:flex}.example-pizza-party[_ngcontent-%COMP%]{color:#ff69b4}"]});let t=i;return t})();var vt=(()=>{let i=class i{constructor(r,e){this.ref=r,this.data=e,this.onClose=n=>this.ref.close(n)}};i.\u0275fac=function(e){return new(e||i)(f(U),f(X))},i.\u0275cmp=g({type:i,selectors:[["app-dialog"]],standalone:!0,features:[C],decls:9,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"click"]],template:function(e,n){e&1&&(a(0,"h1",0),c(1),p(),a(2,"div",1),c(3),p(),a(4,"div",2)(5,"button",3),h("click",function(){return n.onClose(!1)}),c(6),p(),a(7,"button",4),h("click",function(){return n.onClose(!0)}),c(8),p()()),e&2&&(l(1),v(n.data.header),l(2),v(n.data.message),l(3),v(n.data.close),l(2),z(" ",n.data.accept," "))},dependencies:[_,x,Z,et,tt]});let t=i;return t})();function St(t,i){if(t&1){let S=L();a(0,"div",1)(1,"div",2),k(2,"mat-progress-bar",3),B(3,"async"),a(4,"p"),c(5),B(6,"async"),p()(),a(7,"div",4),k(8,"router-outlet"),p(),a(9,"div",5)(10,"div",6)(11,"button",7),h("click",function(){P(S);let e=y();return T(e.onPrev())}),c(12,"\u10E3\u10D9\u10D0\u10DC"),p()(),a(13,"div",8)(14,"button",9),h("click",function(){P(S);let e=y();return T(e.onNext())}),c(15," \u10E8\u10D4\u10DB\u10D3\u10D4\u10D2\u10D8 "),p()()()()}if(t&2){let S=y();l(2),F("value",w(3,2,S.progess$)),l(3),z("",w(6,4,S.lives$),"/5")}}function Mt(t,i){t&1&&k(0,"mat-spinner")}var Ct=(()=>{let i=class i{constructor(r,e,n,M){this.quizService=r,this.router=e,this.matSnackbar=n,this.dialog=M,this.tasks$=this.quizService.tasks$,this.lives$=this.quizService.lives$,this.showSpinner$=this.tasks$.pipe(A(m=>m.length)),this.progess$=new O(0),this.failPoint=null,this.generateQuiz=()=>this.quizService.generateQuiz(N),this.onNext=()=>this.navigate(!0),this.onPrev=()=>this.navigate(!1),this.navigate=m=>this.tasks$.pipe(D(1),q(d=>this.currentRoute$.pipe(D(1),A(o=>d.findIndex(R=>R.id==o.id)),$(o=>m?d[d.length-1].id!=d[o].id:!0),$(o=>this.handleNavigationNext(m,d,o)),A(o=>d[o+(m?1:-1)]),$(o=>!!o),u(o=>this.router.navigate([o.route+`/${o.id}`])),u(o=>this.currentRoute$=b(o)),A(o=>d.findIndex(R=>R.id==o.id)),u(o=>this.progess$.next(o/d.length*100+d.length))))).subscribe(),this.initNavigation=()=>this.tasks$.pipe(D(1),u(m=>this.router.navigate([m[0].route+`/${m[0].id}`])),u(m=>this.currentRoute$=b(m[0])),u(()=>this.progess$.next(0))).subscribe()}ngOnInit(){this.initNavigation(),this.generateQuiz(),this.handeLives()}handleNavigationNext(r,e,n){return r?this.failPoint&&e[n].id==this.failPoint?!1:this.quizService.existsInStore(e[n].id)?!0:(this.matSnackbar.openFromComponent(gt,{data:"\u10E8\u10D4\u10D8\u10E7\u10D5\u10D0\u10DC\u10D4\u10D7 \u10DE\u10D0\u10E1\u10E3\u10EE\u10D8",duration:2e3}),!1):!0}handeLives(){this.lives$.pipe(I(r=>r===0?this.dialog.open(vt,{data:{header:"\u10D7\u10E5\u10D5\u10D4\u10DC \u10D0\u10DB\u10DD\u10D2\u10D4\u10EC\u10E3\u10E0\u10D0\u10D7 \u10E1\u10D8\u10EA\u10DD\u10EA\u10EE\u10DA\u10D4",message:"\u10D2\u10E1\u10E3\u10E0\u10D7 \u10D7\u10D0\u10D5\u10D8\u10D3\u10D0\u10DC \u10D3\u10D0\u10EC\u10E7\u10D4\u10D1\u10D0?",close:"\u10D3\u10D0\u10E1\u10E0\u10E3\u10DA\u10D4\u10D1\u10D0",accept:"\u10D7\u10D0\u10D5\u10D8\u10D3\u10D0\u10DC \u10D3\u10D0\u10EC\u10E7\u10D4\u10D1\u10D0"}}).afterClosed().pipe(I(e=>e?(this.quizService.retry(N),this.initNavigation(),b()):this.currentRoute$.pipe(u(n=>this.failPoint=n.id)))):b())).subscribe()}};i.\u0275fac=function(e){return new(e||i)(f(lt),f(K),f(mt),f(Y))},i.\u0275cmp=g({type:i,selectors:[["app-root"]],standalone:!0,features:[C],decls:3,vars:3,consts:[["class","app"],[1,"app"],[1,"top-bar"],["mode","determinate",1,"box-shadow",3,"value"],[1,"test"],[1,"navigation"],[1,"previous"],["mat-raised-button","",3,"click"],[1,"next"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,n){e&1&&(j(0,St,16,6,"div",0),B(1,"async"),j(2,Mt,1,0)),e&2&&G(0,w(1,1,n.showSpinner$)?0:2)},dependencies:[Q,_,x,ot,nt,V],styles:[".app[_ngcontent-%COMP%]{padding:40px}.navigation[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center;gap:15px;margin:50px}.test[_ngcontent-%COMP%]{min-height:450px}.top-bar[_ngcontent-%COMP%]{display:flex;gap:50px}"]});let t=i;return t})();W(Ct,ut).catch(t=>console.error(t));
